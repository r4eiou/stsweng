<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
<script src="/js/sweetalert.min.js"></script>
<script src="/js/webcam.min.js"></script>
<script src="/js/print.js"></script>
<script src="/js/header.js"></script>

<link rel="stylesheet" type="text/css" href="/css/back-button.css" />
<link rel="stylesheet" type="text/css" href="/css/input-details-page.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" />

<div class="main-container">
  <div class="header" id="header">
    <div class="header-left">
      <a href="/index" class="header-logo-link" id="home-link1"><img src="/images/logo.png" class="header-logo" /></a>
      <a href="/index" class="header-home" id="home-link2"><p class="leftTitle">Home</p></a>
    </div>

    {{! <div class = "">
            <div class = "header-text">
                <h3>Sangguniang Barangay ng Parang</h3>
                <h5>Marikina City</h5>
            </div>
        </div> }}

    <div class="midHeader text-center">
      <p class="title">Sangguniang Barangay ng Parang</p>
      <p class="title-place">Marikina City</p>
    </div>

    <div class="header-right">
      <div class="header-user-profile">
        <span class="header-user-profile-text" id="profile-text">Employee</span>
        <img src="/images/employee-profile.png" class="header-user-profile" id="profile-img" />
      </div>
      <button type="button" class="header-logout-btn" id="logout-btn">Logout</button>
    </div>
  </div>
</div>
<div class="upper-container" id="form-upper-container">
  <div class="back-and-title">
    <a href="/events-db-view" class="back-button" id="black-back-button" st>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="black" class="size-4">
        <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm10.25.75a.75.75 0 0 0 0-1.5H6.56l1.22-1.22a.75.75 0 0 0-1.06-1.06l-2.5 2.5a.75.75 0 0 0 0 1.06l2.5 2.5a.75.75 0 1 0 1.06-1.06L6.56 8.75h4.69Z" clip-rule="evenodd" />
      </svg>
      Back
    </a>
  </div>
</div>

<div class="d-flex flex-column" id="view-event-page">
  <h1 id="crud-event-title">Event Details</h1>

  <form action="#" method="post" class="event-form">
    <input type="hidden" name="_id" value="{{events._id}}" id="_id" />

    <div class="events-panel view-mode container bg-white">
      <!-- for Photo-->
      <div class="row text-center">
        <div class="col">
          <img src="/images/empty-img.png" class="details-profile" id="deets-profile-img" />
        </div>
      </div>

      <div class="row">
        <div class="col m-3">
          <label for="headline-event" class="form-label">Headline</label>
          <input type="email" class="form-control p-0" id="headline-event" value="Headline Here" readonly />
        </div>
      </div>

      <div class="row">
        <div class="col m-3">
          <label for="start-event" class="form-label">Start Date</label>
          <input type="date" class="form-control p-0" id="start-event" value="2024-09-04" readonly />
        </div>
        <div class="col m-3">
          <label for="end-event" class="form-label">End Date</label>
          <input type="date" class="form-control p-0" id="end-event" value="2024-09-04" readonly />
        </div>
      </div>

      <div class="row">
        <div class="col m-3">
          <label for="details-event" class="form-label">Details</label>
          <textarea rows="3" class="form-control p-0" style="resize: none;" readonly>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt, voluptatum nihil beatae ut accusamus possimus?</textarea>
        </div>
      </div>

    </div>
  </form>

  <div class="d-flex flex-column g-3 mx-auto py-3">
    <div class="row">
      <div class="col"><a href="/edit-event" class="text-decoration-none"> <button type="button" class="form-btn edit"><img src="/images/form-edit.png" /><span>Edit Data</span></button></a></div>
      <div class="col"><button type="button" class="form-btn archive" data-toggle="modal" data-target="#confirmArchiveModal"><img src="/images/form-trash.png" /><span>Archive this record</span></button></div>
    </div>
  </div>
</div>

<div id="validationModal" class="modal">
  <div class="modal-content">
    {{! <span class="close">&times;</span> }}
    <p id="modalMessage"></p>
  </div>
</div>

<!-- Modal for Confirming Archive -->
<div class="modal fade" id="confirmArchiveModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="width: fit-content;">
      <div class="modal-header">
        <h4 class="modal-title text-danger" id="exampleModalLabel">Are you sure you want to archive this record?</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="width: fit-content;">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-secondary">Archived records will be
        <span class="text-danger">deleted permanently</span>
        after 30 days. You may
        <span class="text-success">recover</span>
        this through the
        <span class="text-success">Archives Database</span>.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#redirectArchivesDBModal" data-dismiss="modal">Archive</button>
        <button type="button" class="btn btn-secondary btn-close" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- TODO: redirect to archives db after 3 seconds -->
<!-- Modal for Redirect to Archives DB -->
<div class="modal fade" id="redirectArchivesDBModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-danger" id="exampleModalLabel">Record successfully archived</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-secondary">Redirecting you to the Archives Database...
      </div>
    </div>
  </div>
</div>